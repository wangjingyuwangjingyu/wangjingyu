<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Document</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	.box{
		width: 1000px;
		height: 600px;
		background-image: url(04A58PIC6u4_1024.jpg);
		background-size: 100%;
		position: absolute;
		left: 50%;
		transform:translateX(-50%);
		margin-top: 80px;
	}
	.box1{
		width: 1000px;
		height: 600px;
		position: absolute;
		left: 50%;
		transform:translateX(-50%);
		margin-top: 80px;
		background-color: rgba(0,0,0,0.5);
	}
	.b{
		width: 100%;
		height: 350px;
		/*background-color:rgba(255,0,0,0.2);*/
		position: absolute;
		bottom: 0px;
		left: 0px;
	}
	.b-1{
		width: 10px;
		height: 100%;
		float: left;
		background-color: rgba(55,55,23,0.5);
		margin: 0px 2px;
		position: relative;
	}
	.b-2{
		width: 100%;
		height: 10px;
		background-color: red;
		position: absolute;
		left: 0px;
		bottom: 0px;
		/*transition:bottom 1s;*/
	}
	.b-3{
		width: 100%;
		height: 0px;
		background-color: pink;
		position: absolute;
		bottom: 0px;
		left: 0px;
		transition:height .8s;
	}
	</style>
</head>
<body>
	<div class="box">
		
	</div>
	<div class="box1">
		<div class="b">
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
			<div class="b-1">
				<div class="b-2"></div>
				<div class="b-3"></div>
			</div>
		</div>
	</div>




</body>
</html>
<script>
	var b3s=document.querySelectorAll('.b-3');
	var b2s=document.querySelectorAll('.b-2');
	window.setInterval(fn,1500);
	function fn(){
		for(var i=0;i<b3s.length;i++){
			var h=fn1();
			b3s[i].style.height=h+'px';
			var a=0;

			if(h<=100){
				a=Math.floor(Math.random()*240);
			}else if(h<=200){
				a=Math.floor(Math.random()*140);
			}else if(h<=300){
				a=Math.floor(Math.random()*40);
			}
			b2s[i].style.transition='bottom 1s';
			b2s[i].style.bottom=h+'px';
			b2s[i].style.transition='bottom 0.5s';
			b2s[i].style.bottom=h+a+'px';
		}
		window.setTimeout(function(){
			fn2(h,a);
		},1000);
		
	}
	function fn1(){
		var h=Math.floor(Math.random()*341);
		return h;
	}
	function fn2(h,a){
		for(var i=0;i<b3s.length;i++){
			b3s[i].style.height=0+'px';
			b2s[i].style.transition='bottom 0.5s';
			b2s[i].style.bottom=h+'px';
			b2s[i].style.transition='bottom 1s';
			b2s[i].style.bottom=0+'px';
		}
	}

</script>